<!DOCTYPE html>
<html lang="en"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="${#strings.abbreviate(menu.dishes,8)}+'营养成分对比'"></title>
<meta charset="utf-8">
<meta name = "format-detection" content = "telephone=no" />
<link rel="icon" th:href="@{/images/favicon.ico}">
<link rel="shortcut icon" th:href="@{/images/favicon.ico}" />
<link rel="stylesheet" th:href="@{/css/stuck.css}" />
<link rel="stylesheet" th:href="@{/css/style.css}" />

<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>
<script src="js/script.js"></script> 
<script src="js/superfish.js"></script>
<script src="js/jquery.equalheights.js"></script>
<script src="js/jquery.mobilemenu.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/tmStickUp.js"></script>
<script src="js/jquery.ui.totop.js"></script>
<script src="js/echarts.js"></script>
<script src="js/roma.js"></script>
<script src="js/macarons.js"></script>
<script src="js/shine.js"></script>

<script>
 $(document).ready(function(){

  $().UItoTop({ easingType: 'easeOutQuart' });
  $('#stuck_container').tmStickUp({});

  });
 </script>
<!--[if lt IE 9]>
 <div style=' clear: both; text-align:center; position: relative;'>
   <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
     <img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." />
   </a>
</div>
<script src="js/html5shiv.js"></script>
<link rel="stylesheet" media="screen" href="css/ie.css">
<![endif]-->
</head>

<body>
<!--==============================
              header
=================================-->
<header>
  <section id="stuck_container">
    <div class="container">
      <div class="row">
        <div class="grid_6">
        <div class="search">
       		<form action="#" th:action="@{/search}" th:object="${menu}" method="get">
				<span class="twitter-typeahead" >
		  		<input name="keyword" type="text" placeholder="搜索菜名、食材"  
		  		autocomplete="off" spellcheck="false" dir="auto" style="position: relative; 
		  		vertical-align: top; background-color: white;"/>
				</span>
				<input type="submit" value="搜索" class="button fl">
			 </form>		 
		</div> 
          <div class="navigation ">
            <nav>
              <ul class="sf-menu">
               <li><a href="menu.html" th:href="@{/menu}">首页</a></li>
               <li ><a href="#" >菜谱</a></li>
               <li class="current">
               		<a href="#">饮食分析</a>            		
               </li>              
             </ul>
            </nav>        
          </div>
        </div>
      </div>
    </div>
  </section> 
</header>      

<!--=====================
          Content
======================-->
<section class="content">
  <div class="container">
    <div class="row">
    	<div class="cla_title">菜谱</div>
		<hr />
      <div class="grid_9">
        <div class="blog">
          <div class="blog_title" >
          	<a th:text="${menu.dishes}"></a>		  
		  	<span class="fa fa-thumbs-up" style="font-size:16px;"th:if="not ${#strings.isEmpty(menu.doneNum)}" th:text="${menu.doneNum}"></span>
		  </div>
		  <div class="brief" th:each="heat:${heatList}" >
		  	<span style="padding-right:1px;" th:text="${heat.name}" class="nutrition fl"></span>
        	<span style="padding-right:14px;" th:text="${heat.weight}" class="nutrition fl"></span>	  
		  </div>		  
          <br/>  
          	<div class="fl" id="bar-g" style="width:720px;height:450px;"></div>
          	<div class="fl" id="bar-kaluli" style="width:900px;height:386px;"></div>
       		              
       </div>      
      </div>
        
   <!-- 右侧菜单开始 -->
    <div class="grid_4 preffix_1 ">
      <div class="pop-keywords">
       <div class="block">
          <div class="title-bar">
            <div class="title">热门菜系</div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1-2 first-group">
            
              <ol class="plain">
                
                 <li><span class="num">1</span><a th:href="@{/findCuisine(cuisine=湘菜)}" target="_blank" rel="nofollow"><span class="ellipsis">湘菜</span></a><i class="icon icon-keyword-equal"></i></li>
                
                <li><span class="num">2</span><a th:href="@{/findCuisine(cuisine=粤菜)}" target="_blank" rel="nofollow"><span class="ellipsis">粤菜</span></a><i class="icon icon-keyword-equal"></i></li>
                
                <li><span class="num">3</span><a th:href="@{/findCuisine(cuisine=东北)}" target="_blank" rel="nofollow"><span class="ellipsis">东北菜</span></a><i class="icon icon-keyword-equal"></i></li>
                
                <li><span class="num">4</span><a th:href="@{/findCuisine(cuisine=川菜)}" target="_blank" rel="nofollow"><span class="ellipsis">川菜</span></a><i class="icon icon-keyword-up"></i></li>
                
                <li><span class="num">5</span><a th:href="@{/findCuisine(cuisine=鲁菜)}" target="_blank" rel="nofollow"><span class="ellipsis">鲁菜</span></a><i class="icon icon-keyword-up"></i></li>
              </ol>
            </div>
            <div class="pure-u-1-2 second-group">
              <ol class="plain">
                
                 <li><span class="num">6</span><a th:href="@{/findCuisine(cuisine=浙菜)}" target="_blank"><span class="ellipsis">浙菜</span></a><i class="icon icon-keyword-down"></i></li>
                
                <li><span class="num">7</span><a th:href="@{/findCuisine(cuisine=西北)}" target="_blank"><span class="ellipsis">西北菜</span></a><i class="icon icon-keyword-up"></i></li>
                
                <li><span class="num">8</span><a th:href="@{/findCuisine(cuisine=上海)}" target="_blank"><span class="ellipsis">上海菜</span></a><i class="icon icon-keyword-equal"></i></li>
                
                <li><span class="num">9</span><a th:href="@{/findCuisine(cuisine=江苏)}" target="_blank"><span class="ellipsis">江苏菜</span></a><i class="icon icon-keyword-up"></i></li>
                
                <li><span class="num">10</span><a th:href="@{/findCuisine(cuisine=北京)}" target="_blank"><span class="ellipsis">北京菜</span></a><i class="icon icon-keyword-down"></i></li>
              </ol>
            </div>
          </div>
        </div>        
      </div>      
   </div>
     <!-- 右侧菜单结束 --> 
     </div>
  </div>
</section>
<!--==============================
              footer
=================================-->
<footer id="footer">
  <div class="container">
    <div class="row">
      <div class="grid_12">  
        <div class="socials">
          <a href="#" class="fa fa-twitter"></a>
          <a href="#" class="fa fa-facebook"></a>
          <a href="#" class="fa fa-google-plus"></a>
          <a href="#" class="fa fa-pinterest"></a>
        </div>
      </div>
    </div>
  </div> 
</footer> 
<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>
 
 <script type="text/javascript">
       		 		var dom=document.getElementById('bar-g');
       		 		var myChart=echarts.init(dom,'macarons');
       		 		
       		 		var Dishes="[[${menu.dishes}]]";
       		 		
       		 		var pro="[[${pro.name}]]";
       		 		var proWeight="[[${pro.weight}]]";
       		 		
       		 		var fat="[[${fat.name}]]";
   		 			var fatWeight="[[${fat.weight}]]";
   		 			
   		 			var carbohydrate="[[${carbohydrate.name}]]";
		 			var carbohydrateWeight="[[${carbohydrate.weight}]]";
		 			
		 			var fiber="[[${fiber.name}]]";
   		 			var fiberWeight="[[${fiber.weight}]]";
   		 			
   		 		    var Dishes_alike1="[[${menu_alike1.dishes}]]";
       		 		var pro_alike1Weight="[[${pro_alike1.weight}]]";     		 		
   		 			var fat_alike1Weight="[[${fat_alike1.weight}]]";
		 			var carbohydrate_alike1Weight="[[${carbohydrate_alike1.weight}]]";		 			
   		 			var fiber_alike1Weight="[[${fiber_alike1.weight}]]";
   		 			
   		 			var Dishes_alike2="[[${menu_alike2.dishes}]]";
       		 		var pro_alike2Weight="[[${pro_alike2.weight}]]";     		 		
   		 			var fat_alike2Weight="[[${fat_alike2.weight}]]";
		 			var carbohydrate_alike2Weight="[[${carbohydrate_alike2.weight}]]";		 			
   		 			var fiber_alike2Weight="[[${fiber_alike2.weight}]]";
   		 			
   		 			var Dishes_alike3="[[${menu_alike3.dishes}]]";
       		 		var pro_alike3Weight="[[${pro_alike3.weight}]]";     		 		
   		 			var fat_alike3Weight="[[${fat_alike3.weight}]]";
		 			var carbohydrate_alike3Weight="[[${carbohydrate_alike3.weight}]]";		 			
   		 			var fiber_alike3Weight="[[${fiber_alike3.weight}]]";
   		 			
   		 			var Dishes_alike4="[[${menu_alike4.dishes}]]";
       		 		var pro_alike4Weight="[[${pro_alike4.weight}]]";     		 		
   		 			var fat_alike4Weight="[[${fat_alike4.weight}]]";
		 			var carbohydrate_alike4Weight="[[${carbohydrate_alike4.weight}]]";		 			
   		 			var fiber_alike4Weight="[[${fiber_alike4.weight}]]";
   		 			
   		 			var Dishes_alike5="[[${menu_alike5.dishes}]]";
       		 		var pro_alike5Weight="[[${pro_alike5.weight}]]";     		 		
   		 			var fat_alike5Weight="[[${fat_alike5.weight}]]";
		 			var carbohydrate_alike5Weight="[[${carbohydrate_alike5.weight}]]";		 			
   		 			var fiber_alike5Weight="[[${fiber_alike5.weight}]]";
   		 			
   		 			var Dishes_alike6="[[${menu_alike6.dishes}]]";
       		 		var pro_alike6Weight="[[${pro_alike6.weight}]]";     		 		
   		 			var fat_alike6Weight="[[${fat_alike6.weight}]]";
		 			var carbohydrate_alike6Weight="[[${carbohydrate_alike6.weight}]]";		 			
   		 			var fiber_alike6Weight="[[${fiber_alike6.weight}]]";
  
       		 		var option={         		 	    
       		 	    tooltip : {       		 	   
       		 	    },
       		 	title: {
       		        text: '相似菜谱营养物质对比',
       		        subtext: '与'+Dishes+'相似的菜谱'
       		    },
       		
       		 	legend: {
   		        	type: 'scroll',
   		        	left:220,
   		        	data: [Dishes,Dishes_alike1,Dishes_alike2,Dishes_alike3,Dishes_alike4,Dishes_alike5,Dishes_alike6],
   		        	selected: {
   		        		[Dishes]:true,
   		        		[Dishes_alike1]:false,
   		 	    		[Dishes_alike2]:false,
   		 	    		[Dishes_alike3]:false,
   		 	    		
   		        	}
   		    	},
       		 	 dataset: {
       		        source: [
       		            ['product', Dishes, Dishes_alike1,Dishes_alike2,Dishes_alike3,Dishes_alike4,Dishes_alike5,Dishes_alike6],
       		            [pro, proWeight,pro_alike1Weight,pro_alike2Weight,pro_alike3Weight,pro_alike4Weight,pro_alike5Weight,pro_alike6Weight],
       		            [fat, fatWeight,fat_alike1Weight,fat_alike2Weight,fat_alike3Weight,fat_alike4Weight,fat_alike5Weight,fat_alike6Weight],
       		            [carbohydrate, carbohydrateWeight,carbohydrate_alike1Weight,carbohydrate_alike2Weight,carbohydrate_alike3Weight,carbohydrate_alike4Weight,carbohydrate_alike5Weight,carbohydrate_alike6Weight],
       		            [fiber,fiberWeight,fiber_alike1Weight,fiber_alike2Weight,fiber_alike3Weight,fiber_alike4Weight,fiber_alike5Weight,fiber_alike6Weight]
       		        ]
       		    },
       		    xAxis: {type: 'category'},
       		    yAxis: {},
       		    // Declare several bar series, each will be mapped
       		    // to a column of dataset.source by default.
       		    series: [
       		        {type: 'bar'},
       		        {type: 'bar'},
       		     	{type: 'bar'},
       		  		{type: 'bar'},
       		  		{type: 'bar'},
       		 		{type: 'bar'},
       				{type: 'bar'}      			 
       		    ]
       		 };
       		 
       		 	if (option && typeof option === "object") {
       		     myChart.setOption(option, true);
       		 }
 </script>
 <script type="text/javascript">
       		 		var dom=document.getElementById('bar-kaluli');
       		 		var myChart=echarts.init(dom,'macarons');
       		 		
       		 		var Dishes="[[${menu.dishes}]]";
       		 		var kaluli="[[${kaluli.name}]]";
       		 		var kaluliWeight="[[${kaluli.weight}]]";      		 		
   		 			
   		 		    var Dishes_alike1="[[${menu_alike1.dishes}]]";
   		 		    var kaluli_alike1Weight="[[${kaluli_alike1.weight}]]";
   		 			
   		 			var Dishes_alike2="[[${menu_alike2.dishes}]]";
   		 			var kaluli_alike2Weight="[[${kaluli_alike2.weight}]]";
   		 			
   		 			var Dishes_alike3="[[${menu_alike3.dishes}]]";
   		 		 	var kaluli_alike3Weight="[[${kaluli_alike3.weight}]]";
   		 			
   		 			var Dishes_alike4="[[${menu_alike4.dishes}]]";
   		 		 	var kaluli_alike4Weight="[[${kaluli_alike4.weight}]]";
   		 		 	
   		 			var Dishes_alike5="[[${menu_alike5.dishes}]]";
   		 			var kaluli_alike5Weight="[[${kaluli_alike5.weight}]]";
   		 			
   		 			var Dishes_alike6="[[${menu_alike6.dishes}]]";
   		 		 	var kaluli_alike6Weight="[[${kaluli_alike6.weight}]]";
   		 		 	
       		 		var option={         		 	    
       		 			 tooltip: {
       		 		        trigger: 'axis',
       		 		        axisPointer: {
       		 		            type: 'shadow'
       		 		        }
       		 		    },
       		
       		 	title: {
       		        text: '相似菜谱热量对比',
       		        subtext: '与'+Dishes+'相似的菜谱'
       		    },
       		 	legend: { 		        	
   		        	data: [Dishes,Dishes_alike1,Dishes_alike2,Dishes_alike3,Dishes_alike4,Dishes_alike5,Dishes_alike6]	        	
   		    	},
   		     	grid: {
   		        	left: '3%',
   		        	right: '4%',
   		        	bottom: '3%',
   		       	 	containLabel: true
   		    	},
   		 		toolbox: {
   	        		show : true,
   	        		feature : {
   	        			dataZoom: {
   	                     	yAxisIndex: 'none'
   	                 	},
   	            		dataView : {show: true, readOnly: false},
   	           			magicType : {show: true, type: ['line', 'bar']},
   	            		restore : {show: true},
   	            		saveAsImage : {show: true}
   	        		}
   	    		},
   	 			calculable : true,
       		    yAxis: {type: 'category',
       		    		data:[ Dishes, Dishes_alike1,Dishes_alike2,Dishes_alike3,Dishes_alike4,Dishes_alike5,Dishes_alike6]	
       		    },
       		    xAxis:[ {type:'value'}],

       		    series: [{
       		    	name:'热量',
       		        data:[kaluliWeight,kaluli_alike1Weight,kaluli_alike2Weight,kaluli_alike3Weight,kaluli_alike4Weight,kaluli_alike5Weight,kaluli_alike6Weight],
       		        type:'bar',
       		        itemStyle:{
       		        	color:'rgb(208, 95, 159)'
       		        },
       		        markPoint:{
       		        	data:[
       		        		{type:'max',name:'最大值'},
       		        		{type:'min',name:'最小值'}
       		        	],
       		        	itemStyle:{
       		        		color:'rgb(95, 208, 250)',
       		        	},
       		        },
       		        markLine:{
       		        	data:[
       		        		{type:'average',name:'平均值'}
       		        	],
       		        	lineStyle:{
       		        		color:'rgb(95, 208, 250)',
       		        	}
       		        }
       		    }]
       		 };
       		 
       		 	if (option && typeof option === "object") {
       		     myChart.setOption(option, true);
       		 }
 </script> 
    
</body>
</html>